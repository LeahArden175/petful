(this["webpackJsonppetful-client"]=this["webpackJsonppetful-client"]||[]).push([[0],{23:function(e,t,n){e.exports=n(41)},24:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){e.exports=n.p+"static/media/pets.6bea239d.jpg"},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);n(24);var a=n(0),o=n.n(a),r=n(21),c=n.n(r),l=n(4),s=n(5),p=n(7),i=n(6),u=n(8),m=n(12),d=n(1),h=(n(29),function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"landing-div"},o.a.createElement("div",null,o.a.createElement("h3",null,"Welcome to Petful!"),o.a.createElement("img",{className:"landing-img",src:n(30),alt:"Cat and Dog on counch"})),o.a.createElement("div",{className:"petful-info"},o.a.createElement("p",null,"We specialize in finding a home for EVERY pet by using our FIFO(First In First Out) method!"),o.a.createElement("p",null,"This means we only allow the pets who have been here the longest to be up for adoption."),o.a.createElement("h4",null,"How to get started?"),o.a.createElement("p",null,"Easy! Once you get to the adoption page, you add your name to the list, wait your turn, and choose which cat or dog you would like to adopt!"),o.a.createElement("p",null,"No pet should have to wait forever to find their forever home..."),o.a.createElement(m.b,{to:"/adoption"},o.a.createElement("button",{className:"adoption-padge-button"},"I want to adopt!"))))}}]),t}(a.Component)),f=n(18),v="https://obscure-brushlands-51550.herokuapp.com",g={getPets:function(){return fetch("".concat(v,"/pets")).then((function(e){return e.json()}))},getAllPeople:function(){return fetch("".concat(v,"/people")).then((function(e){return e.json()}))},addPerson:function(e){return fetch("".concat(v,"/people"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(e)})},removePerson:function(){return fetch("".concat(v,"/people"),{method:"DELETE",headers:{"content-type":"application/json"}})},removePet:function(e){return fetch("".concat(v,"/pets"),{method:"DELETE",headers:{"content-type":"application/json"},body:JSON.stringify(e)})}},E=o.a.createContext({updatePets:function(){},updatePeople:function(){},setPeople:function(){},user:null}),b=(n(36),function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(p.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).handleAdopt=function(e){e.preventDefault(),window.alert("Congrats!! You adopted a cat!");var t={type:e.target.id};g.removePet(t).then((function(){return g.getPets()})).then((function(e){n.context.updatePets(e)})).then((function(){return g.removePerson()})).then((function(){return g.getAllPeople()})).then((function(e){n.context.setPeople(e)}))},n.showAdoptButton=function(){if(n.context.user.name&&n.context.people&&n.context.user.name===n.context.people[0])return o.a.createElement("button",{className:"adoptButton",id:"cats",onClick:n.handleAdopt},"Adopt me!")},n}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){if(!this.props.cats)return"Loading";var e=this.props.cats[0];return o.a.createElement("div",null,o.a.createElement("div",{className:"pet-card"},o.a.createElement("h2",{className:"pet-name"},e.name),o.a.createElement("img",{className:"pet-img",src:e.imageURL,alt:"cat"}),o.a.createElement("div",{className:"pet-info-div"},o.a.createElement("p",{className:"pet-info-p"},"Breed: ",e.breed),o.a.createElement("p",{className:"pet-info-p"},"Age: ",e.age),o.a.createElement("p",{className:"pet-info-p"},"Gender: ",e.gender),o.a.createElement("p",{className:"pet-info-p"},"Story: ",e.story),o.a.createElement("p",{className:"pet-info-p"},"Description: ",e.description))),this.showAdoptButton())}}]),t}(a.Component));b.contextType=E;n(37);var y=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(p.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).handleAdopt=function(e){e.preventDefault(),window.alert("Congrats!! You adopted a dog!");var t={type:e.target.id};g.removePet(t).then((function(){return g.getPets()})).then((function(e){n.context.updatePets(e)})).then((function(){return g.removePerson()})).then((function(){return g.getAllPeople()})).then((function(e){n.context.setPeople(e)}))},n.showAdoptButton=function(){if(n.context.user.name&&n.context.people&&n.context.user.name===n.context.people[0])return o.a.createElement("button",{className:"adoptButton",id:"dogs",onClick:n.handleAdopt},"Adopt me!")},n}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){if(!this.props.dogs)return"Loading";var e=this.props.dogs[0];return o.a.createElement("div",null,o.a.createElement("div",{className:"pet-card"},o.a.createElement("h2",{className:"pet-name"},e.name),o.a.createElement("img",{className:"pet-img",src:e.imageURL,alt:"dog"}),o.a.createElement("div",{className:"pet-info-div"},o.a.createElement("p",{className:"pet-info-p"},"Breed: ",e.breed),o.a.createElement("p",{className:"pet-info-p"},"Age: ",e.age),o.a.createElement("p",{className:"pet-info-p"},"Gender: ",e.gender),o.a.createElement("p",{className:"pet-info-p"},"Story: ",e.story),o.a.createElement("p",{className:"pet-info-p"},"Description: ",e.description))),this.showAdoptButton())}}]),t}(a.Component);y.contextType=E;n(38);var P=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.pets.cat,t=this.props.pets.dog,n=this.props.people;return o.a.createElement("div",{className:"pet-card-div"},o.a.createElement(b,{cats:e,people:n}),o.a.createElement(y,{dogs:t}))}}]),t}(a.Component),j=(n(39),function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(p.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).state={pets:{cat:null,dog:null},people:[],user:{name:""},adopting:!0},n.updatePets=function(e){n.setState({pets:e})},n.updatePeople=function(e){console.log(e),n.setState({people:[].concat(Object(f.a)(n.state.people),[e])})},n.addPerson=function(e){n.setState({people:e})},n.setPeople=function(e){n.setState({people:e})},n.joinList=function(e){e.preventDefault();var t=n.state.people;g.addPerson({name:e.target.name.value}),n.setState({people:[].concat(Object(f.a)(t),[e.target.name.value]),user:{name:e.target.name.value}}),n.interval=setInterval((function(){if(null!==n.state.people&&n.state.people[2]!==n.state.user.name||n.fillPeopleQueue(),null===n.state.people||n.state.people[0]===n.state.user.name)return clearInterval(n.interval);var e;e=!0===n.state.adopting?{type:"cats"}:{type:"dogs"},g.removePet(e).then((function(e){return g.removePerson()})).then((function(e){return g.getPets().then((function(e){n.setState({adopting:!n.state.adopting}),n.updatePets(e)}))})).then((function(e){return g.getAllPeople().then((function(e){n.setState({people:e})}))}))}),5e3),e.target.name.value=""},n.renderPeopleQueue=function(){return n.state.people?n.state.people.map((function(e,t){return o.a.createElement("li",{key:t,className:"people-list-item"},e)})):"No one is in line"},n.renderLineMessage=function(){return null===n.state.user.name||null===n.state.people||n.state.user.name!==n.state.people[0]?o.a.createElement("p",{className:"line-message"},"Join the back of the line to adopt!"):n.state.user.name===n.state.people[0]?o.a.createElement("p",{className:"line-message-turn"},"It's your turn to adopt!"):void 0},n}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.getData()}},{key:"getData",value:function(){var e=this;g.getPets().then((function(t){g.getAllPeople().then((function(n){e.setState({pets:t,people:n}),console.log(e.state)})).catch((function(e){console.error(e)}))}))}},{key:"fillPeopleQueue",value:function(){var e=this,t=[{name:"John Hoppe"},{name:"Margo Mullen"},{name:"Clarence Dot"},{name:"Heather McKenna"}];console.log(t);var n=3;this.intervalID=setInterval((function(){if(-1===n)return clearInterval(e.intervalID);fetch("".concat(v,"/people"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(t[n--])}).then((function(t){g.getAllPeople().then((function(t){return e.setPeople(t)}))}))}),5e3)}},{key:"render",value:function(){var e={updatePets:this.updatePets,updatePeople:this.updatePeople,setPeople:this.setPeople,user:this.state.user,people:this.state.people},t=this.state,n=t.people,a=t.pets;return o.a.createElement(E.Provider,{value:e},o.a.createElement("div",null,o.a.createElement(P,{pets:a,people:n})),o.a.createElement("hr",{className:"line"}),o.a.createElement("div",{className:"list-div"},this.renderLineMessage(),o.a.createElement("ul",{className:"people-list"},this.renderPeopleQueue()),o.a.createElement("form",{onSubmit:this.joinList},o.a.createElement("input",{id:"name",placeholder:"Jane Doe",required:!0,type:"text"}),o.a.createElement("button",null,"Join Line!"))))}}]),t}(a.Component)),O=(n(40),function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"container"},o.a.createElement(m.b,{to:"/",className:"header-link"},o.a.createElement("h1",{className:"petful-header"},"Petful"))),o.a.createElement(d.c,null,o.a.createElement(d.a,{exact:!0,path:"/",component:h}),o.a.createElement(d.a,{path:"/adoption",component:j})))}}]),t}(a.Component));c.a.render(o.a.createElement(m.a,null,o.a.createElement(O,null)),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.14467b63.chunk.js.map